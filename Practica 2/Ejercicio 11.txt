
EOI EQU 20H
IMR EQU 21H
INT0 EQU 24H
N_F10 EQU 10
ORG 40
IP_F10 DW RUT_F10

ORG 1000H
 LETRA DB ?

ORG 2000H
 CLI
 MOV AL, 0FEH
 OUT IMR, AL ; PIC: registro IMR
 MOV AL, N_F10
 OUT INT0, AL ; PIC: registro INT0
 MOV DX, 41H
 STI
 LAZO: INC DL
 CMP DL, 5AH
 JNZ LAZO
 MOV DL, 41H
 JMP LAZO

ORG 3000H
 RUT_F10: PUSH AX
 MOV BX, OFFSET LETRA
 MOV [BX], DL
 MOV AL, 1
 INT 7
 MOV AL, EOI
 OUT EOI, AL ; PIC: registro EOI
 POP AX
 IRET
 END